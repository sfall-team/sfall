<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/sfall/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/sfall/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(13)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(13) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(13) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(13) > ul.nav-list { display: block; } </style> <script src="/sfall/assets/js/vendor/lunr.min.js"></script> <script src="/sfall/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/sfall/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Combat | sfall</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="Combat" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Sfall documentation" /> <meta property="og:description" content="Sfall documentation" /> <link rel="canonical" href="/sfall/combat/" /> <meta property="og:url" content="/sfall/combat/" /> <meta property="og:site_name" content="sfall" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Combat" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Sfall documentation","headline":"Combat","url":"/sfall/combat/"}</script> <!-- End Jekyll SEO tag --> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicon/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicon/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicon/favicon-16x16.png"> <link rel="manifest" href="/assets/favicon/site.webmanifest"> <link rel="mask-icon" href="/assets/favicon/safari-pinned-tab.svg" color="#5bbad5"> <meta name="msapplication-TileColor" content="#da532c"> <meta name="msapplication-config" content="/assets/favicon/browserconfig.xml"> <meta name="theme-color" content="#ffffff"> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/sfall/" class="site-title lh-tight"> sfall </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/sfall/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Arrays category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/arrays/" class="nav-list-link">Arrays</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/array-functions/" class="nav-list-link">Array functions</a></li><li class="nav-list-item"><a href="/sfall/lists/" class="nav-list-link">Lists</a></li></ul></li><li class="nav-list-item"><a href="/sfall/best-practices/" class="nav-list-link">Best practices</a></li><li class="nav-list-item"><a href="/sfall/data-types/" class="nav-list-link">Data types</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Global scripts category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/global-scripts/" class="nav-list-link">Global scripts</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/global-script-functions/" class="nav-list-link">Global script functions</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Hooks category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/hooks/" class="nav-list-link">Hooks</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/hook-functions/" class="nav-list-link">Hook functions</a></li><li class="nav-list-item"><a href="/sfall/hook-types/" class="nav-list-link">Hook types</a></li></ul></li><li class="nav-list-item"><a href="/sfall/sslc/" class="nav-list-link">SSLC</a></li><li class="nav-list-item"><a href="/sfall/optimization/" class="nav-list-link">Optimization</a></li><li class="nav-list-item"><a href="/sfall/animations/" class="nav-list-link">Animations</a></li><li class="nav-list-item"><a href="/sfall/art-and-appearance/" class="nav-list-link">Art and appearance</a></li><li class="nav-list-item"><a href="/sfall/audio/" class="nav-list-link">Audio</a></li><li class="nav-list-item"><a href="/sfall/car/" class="nav-list-link">Car</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Combat category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/combat/" class="nav-list-link">Combat</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/knockback/" class="nav-list-link">Knockback</a></li><li class="nav-list-item"><a href="/sfall/weapons-and-ammo/" class="nav-list-link">Weapons and ammo</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Direct memory access category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/direct-memory-access/" class="nav-list-link">Direct memory access</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/call_offset_vx/" class="nav-list-link">call_offset_vX</a></li><li class="nav-list-item"><a href="/sfall/read_xxx/" class="nav-list-link">read_xxx</a></li><li class="nav-list-item"><a href="/sfall/write_xxx/" class="nav-list-link">write_xxx</a></li></ul></li><li class="nav-list-item"><a href="/sfall/explosions/" class="nav-list-link">Explosions</a></li><li class="nav-list-item"><a href="/sfall/global-variables/" class="nav-list-link">Global variables</a></li><li class="nav-list-item"><a href="/sfall/graphics/" class="nav-list-link">Graphics</a></li><li class="nav-list-item"><a href="/sfall/ini-settings/" class="nav-list-link">INI settings</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Interface category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/interface/" class="nav-list-link">Interface</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/cursor/" class="nav-list-link">Cursor</a></li><li class="nav-list-item"><a href="/sfall/inventory/" class="nav-list-link">Inventory</a></li><li class="nav-list-item"><a href="/sfall/main-interface/" class="nav-list-link">Main interface</a></li><li class="nav-list-item"><a href="/sfall/outline/" class="nav-list-link">Outline</a></li><li class="nav-list-item"><a href="/sfall/pip-boy/" class="nav-list-link">Pip-Boy</a></li><li class="nav-list-item"><a href="/sfall/tags/" class="nav-list-link">Tags</a></li><li class="nav-list-item"><a href="/sfall/windows-and-images/" class="nav-list-link">Windows and images</a></li></ul></li><li class="nav-list-item"><a href="/sfall/keyboard-and-mouse/" class="nav-list-link">Keyboard and mouse</a></li><li class="nav-list-item"><a href="/sfall/locks/" class="nav-list-link">Locks</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Maps and encounters category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/maps-and-encounters/" class="nav-list-link">Maps and encounters</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/rest/" class="nav-list-link">Rest</a></li><li class="nav-list-item"><a href="/sfall/worldmap/" class="nav-list-link">Worldmap</a></li></ul></li><li class="nav-list-item"><a href="/sfall/objects-and-scripts/" class="nav-list-link">Objects and scripts</a></li><li class="nav-list-item"><a href="/sfall/other/" class="nav-list-link">Other</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Perks and traits category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/perks-and-traits/" class="nav-list-link">Perks and traits</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/npc-perks/" class="nav-list-link">NPC perks</a></li></ul></li><li class="nav-list-item"><a href="/sfall/sfall-funcx-macros/" class="nav-list-link">Sfall funcX macros</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Sfall category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/sfall/" class="nav-list-link">Sfall</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/funcx/" class="nav-list-link">funcX</a></li><li class="nav-list-item"><a href="/sfall/version/" class="nav-list-link">Version</a></li></ul></li><li class="nav-list-item"><a href="/sfall/skills/" class="nav-list-link">Skills</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Stats category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/stats/" class="nav-list-link">Stats</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/alter-min-max/" class="nav-list-link">Alter min/max</a></li></ul></li><li class="nav-list-item"><a href="/sfall/tiles-and-paths/" class="nav-list-link">Tiles and paths</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Utility category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/sfall/utility/" class="nav-list-link">Utility</a><ul class="nav-list"><li class="nav-list-item"><a href="/sfall/math/" class="nav-list-link">Math</a></li><li class="nav-list-item"><a href="/sfall/strings/" class="nav-list-link">Strings</a></li></ul></li><li class="nav-list-item"><a href="/sfall/virtual-file-system/" class="nav-list-link">Virtual file system</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search sfall" aria-label="Search sfall" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://nma-fallout.com/threads/fo2-engine-tweaks-sfall.178390/" class="site-button" > Forum </a> </li> <li class="aux-nav-list-item"> <a href="https://github.com/phobos2077/sfall/" class="site-button" > GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 class="no_toc" id="combat"> <a href="#combat" class="anchor-heading" aria-labelledby="combat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Combat </h1> <h2 class="no_toc" id="subcategories"> <a href="#subcategories" class="anchor-heading" aria-labelledby="subcategories"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Subcategories </h2> <ul> <li><a href="/sfall/knockback/"><strong>Knockback</strong></a></li> <li><a href="/sfall/weapons-and-ammo/"><strong>Weapons and ammo</strong></a></li> </ul> <h2 class="no_toc" id="functions"> <a href="#functions" class="anchor-heading" aria-labelledby="functions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Functions </h2> <ul id="markdown-toc"> <li><a href="#attack_is_aimed" id="markdown-toc-attack_is_aimed"><strong>attack_is_aimed</strong></a></li> <li><a href="#block_combat" id="markdown-toc-block_combat"><strong>block_combat</strong></a></li> <li><a href="#combat_data" id="markdown-toc-combat_data"><strong>combat_data</strong></a></li> <li><a href="#disable_aimed_shots" id="markdown-toc-disable_aimed_shots"><strong>disable_aimed_shots</strong></a></li> <li><a href="#force_aimed_shots" id="markdown-toc-force_aimed_shots"><strong>force_aimed_shots</strong></a></li> <li><a href="#get_attack_type" id="markdown-toc-get_attack_type"><strong>get_attack_type</strong></a></li> <li><a href="#get_bodypart_hit_modifier" id="markdown-toc-get_bodypart_hit_modifier"><strong>get_bodypart_hit_modifier</strong></a></li> <li><a href="#get_combat_free_move" id="markdown-toc-get_combat_free_move"><strong>get_combat_free_move</strong></a></li> <li><a href="#get_critical_table" id="markdown-toc-get_critical_table"><strong>get_critical_table</strong></a></li> <li><a href="#get_critter_current_ap" id="markdown-toc-get_critter_current_ap"><strong>get_critter_current_ap</strong></a></li> <li><a href="#get_last_attacker" id="markdown-toc-get_last_attacker"><strong>get_last_attacker</strong></a></li> <li><a href="#get_last_target" id="markdown-toc-get_last_target"><strong>get_last_target</strong></a></li> <li><a href="#reset_critical_table" id="markdown-toc-reset_critical_table"><strong>reset_critical_table</strong></a></li> <li><a href="#set_bodypart_hit_modifier" id="markdown-toc-set_bodypart_hit_modifier"><strong>set_bodypart_hit_modifier</strong></a></li> <li><a href="#set_combat_free_move" id="markdown-toc-set_combat_free_move"><strong>set_combat_free_move</strong></a></li> <li><a href="#set_critical_table" id="markdown-toc-set_critical_table"><strong>set_critical_table</strong></a></li> <li><a href="#set_critter_burst_disable" id="markdown-toc-set_critter_burst_disable"><strong>set_critter_burst_disable</strong></a></li> <li><a href="#set_critter_current_ap" id="markdown-toc-set_critter_current_ap"><strong>set_critter_current_ap</strong></a></li> <li><a href="#set_spray_settings" id="markdown-toc-set_spray_settings"><strong>set_spray_settings</strong></a></li> </ul><hr /> <h3 class="d-inline-block" id="attack_is_aimed"> <a href="#attack_is_aimed" class="anchor-heading" aria-labelledby="attack_is_aimed"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>attack_is_aimed</strong> </h3> <p class="label label-green">sfall.h</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">bool</span> <span class="n">attack_is_aimed</span><span class="p">()</span>
</code></pre></div></div> <p>Returns 1 if the aimed attack mode is selected, 0 otherwise.</p><hr /> <h3 id="block_combat"> <a href="#block_combat" class="anchor-heading" aria-labelledby="block_combat"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>block_combat</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">block_combat</span><span class="p">(</span><span class="kt">bool</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Deny the player to enter combat mode.</p><hr /> <h3 id="combat_data"> <a href="#combat_data" class="anchor-heading" aria-labelledby="combat_data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>combat_data</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mixed</span> <span class="n">combat_data</span>
</code></pre></div></div> <ul> <li>returns a pointer to the <code class="language-plaintext highlighter-rouge">C_ATTACK_*</code> data for the current combat attack process (see defined constants in <strong>define_extra.h</strong>)</li> <li>can be used in conjunction with the <code class="language-plaintext highlighter-rouge">get_object_data</code> and <code class="language-plaintext highlighter-rouge">set_object_data</code> functions example: <code class="language-plaintext highlighter-rouge">sfall_func3("set_object_data", sfall_func0("combat_data"), C_ATTACK_UNUSED, 255);</code></li> </ul><hr /> <h3 id="disable_aimed_shots"> <a href="#disable_aimed_shots" class="anchor-heading" aria-labelledby="disable_aimed_shots"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>disable_aimed_shots</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">disable_aimed_shots</span><span class="p">(</span><span class="kt">int</span> <span class="n">pid</span><span class="p">)</span>
</code></pre></div></div> <p>Allows overriding the normal rules regarding which weapons are allowed to make aimed attacks. (e.g. weapons that cause explosive damage normally cannot normally make aimed shots.) stops a weapon from making aimed shots even if it normally coulld. Affects player and NPCs alike. The list of edited weapons is not saved over game loads, so you need to call the function once at each reload. Use a pid of 0 to represent unarmed.</p><hr /> <h3 id="force_aimed_shots"> <a href="#force_aimed_shots" class="anchor-heading" aria-labelledby="force_aimed_shots"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>force_aimed_shots</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">force_aimed_shots</span><span class="p">(</span><span class="kt">int</span> <span class="n">pid</span><span class="p">)</span>
</code></pre></div></div> <p>Allows overriding the normal rules regarding which weapons are allowed to make aimed attacks. (e.g. weapons that cause explosive damage normally cannot normally make aimed shots.) Will allow a weapon to make aimed shots even if it normally couldn’t. Affects player and NPCs alike. Does not override the effects of the fast shot trait. The list of edited weapons is not saved over game loads, so you need to call the function once at each reload. Use a pid of 0 to represent unarmed.</p><hr /> <h3 id="get_attack_type"> <a href="#get_attack_type" class="anchor-heading" aria-labelledby="get_attack_type"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_attack_type</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_attack_type</span>
</code></pre></div></div><hr /> <h3 id="get_bodypart_hit_modifier"> <a href="#get_bodypart_hit_modifier" class="anchor-heading" aria-labelledby="get_bodypart_hit_modifier"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_bodypart_hit_modifier</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_bodypart_hit_modifier</span><span class="p">(</span><span class="kt">int</span> <span class="n">bodypart</span><span class="p">)</span>
</code></pre></div></div> <p>Gets the hit percentage modifiers for aiming at specific bodyparts. Valid bodypart id’s are from 0 to 8.</p><hr /> <h3 class="d-inline-block" id="get_combat_free_move"> <a href="#get_combat_free_move" class="anchor-heading" aria-labelledby="get_combat_free_move"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_combat_free_move</strong> </h3> <p class="label label-green">sfall.h</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_combat_free_move</span><span class="p">()</span>
</code></pre></div></div> <p>Returns available “bonus move” points of the current critter’s turn. For NPCs, this is always 0 unless changed by <code class="language-plaintext highlighter-rouge">set_combat_free_move</code></p><hr /> <h3 id="get_critical_table"> <a href="#get_critical_table" class="anchor-heading" aria-labelledby="get_critical_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_critical_table</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_critical_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">crittertype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">valuetype</span><span class="p">)</span>
</code></pre></div></div> <p>Gets current critical table. For details see <a href="http://falloutmods.wikia.com/wiki/Critical_hit_tables">critical hit tables</a>. Requires <code class="language-plaintext highlighter-rouge">OverrideCriticalTable</code> to be enabled in <code class="language-plaintext highlighter-rouge">ddraw.ini</code> (already enabled by default).</p><hr /> <h3 id="get_critter_current_ap"> <a href="#get_critter_current_ap" class="anchor-heading" aria-labelledby="get_critter_current_ap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_critter_current_ap</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="n">get_critter_current_ap</span><span class="p">(</span><span class="n">CritterPtr</span><span class="p">)</span>
</code></pre></div></div> <p>Should only be used during the target critters turn while in combat. Calling it outside of combat typically returns the critters max ap, but don’t rely on that behaviour. (Specifically, if the critter has never before entered combat, it will probably return the critters base ap ignoring any extra bonuses from perks etc.)</p><hr /> <h3 id="get_last_attacker"> <a href="#get_last_attacker" class="anchor-heading" aria-labelledby="get_last_attacker"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_last_attacker</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ObjectPtr</span> <span class="n">get_last_attacker</span><span class="p">(</span><span class="n">ObjectPtr</span> <span class="n">critter</span><span class="p">)</span>
</code></pre></div></div> <p>Will return the last critter to deliberately launch an attack against the argument critter. If a critter has not launched/received an attack, it will return 0. Outside of combat always returns 0.</p><hr /> <h3 id="get_last_target"> <a href="#get_last_target" class="anchor-heading" aria-labelledby="get_last_target"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>get_last_target</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ObjectPtr</span> <span class="n">get_last_target</span><span class="p">(</span><span class="n">ObjectPtr</span> <span class="n">critter</span><span class="p">)</span>
</code></pre></div></div> <p>Will return the last critter to be deliberately attacked. Outside of combat always returns 0.</p><hr /> <h3 id="reset_critical_table"> <a href="#reset_critical_table" class="anchor-heading" aria-labelledby="reset_critical_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>reset_critical_table</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">reset_critical_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">crittertype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">valuetype</span><span class="p">)</span>
</code></pre></div></div> <p>Resets the critical table to default (or to the contents of <code class="language-plaintext highlighter-rouge">CriticalOverrides.ini</code>, if it exists). For details see ‘http://falloutmods.wikia.com/wiki/Critical_hit_tables’. Requires <code class="language-plaintext highlighter-rouge">OverrideCriticalTable</code> to be set to 1 in <code class="language-plaintext highlighter-rouge">ddraw.ini</code>. (Disabled by default, because it noticably increases loading times.)</p><hr /> <h3 id="set_bodypart_hit_modifier"> <a href="#set_bodypart_hit_modifier" class="anchor-heading" aria-labelledby="set_bodypart_hit_modifier"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_bodypart_hit_modifier</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_bodypart_hit_modifier</span><span class="p">(</span><span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Alters the hit percentage modifiers for aiming at specific bodyparts. Valid bodypart id’s are from 0 to 8. Changes are not saved, and will reset to the defaults (or to the values specified in ddraw.ini if they exist) at each reload.</p><hr /> <h3 class="d-inline-block" id="set_combat_free_move"> <a href="#set_combat_free_move" class="anchor-heading" aria-labelledby="set_combat_free_move"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_combat_free_move</strong> </h3> <p class="label label-green">sfall.h</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_combat_free_move</span><span class="p">(</span><span class="kt">int</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Allows changing “bonus move” points (yellow lights on the interface bar) that can only be used for movement, not attacking</p> <ul> <li>Can be called from <code class="language-plaintext highlighter-rouge">HOOK_COMBATTURN</code> at the start of the turn (will not work on <code class="language-plaintext highlighter-rouge">dude_obj</code>)</li> <li>Can be called from <code class="language-plaintext highlighter-rouge">HOOK_STDPROCEDURE</code> with <code class="language-plaintext highlighter-rouge">combat_proc</code> event (will work on both NPCs and <code class="language-plaintext highlighter-rouge">dude_obj</code>)</li> </ul><hr /> <h3 id="set_critical_table"> <a href="#set_critical_table" class="anchor-heading" aria-labelledby="set_critical_table"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_critical_table</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_critical_table</span><span class="p">(</span><span class="kt">int</span> <span class="n">crittertype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">bodypart</span><span class="p">,</span> <span class="kt">int</span> <span class="n">level</span><span class="p">,</span> <span class="kt">int</span> <span class="n">valuetype</span><span class="p">,</span> <span class="kt">int</span> <span class="n">value</span><span class="p">)</span>
</code></pre></div></div> <p>Used for modifying the critical table. For details see <a href="http://falloutmods.wikia.com/wiki/Critical_hit_tables">critical hit tables</a>. Changes are not saved, and will reset to the defaults (or to the contents of <code class="language-plaintext highlighter-rouge">CriticalOverrides.ini</code>, if it exists) at each game reload. Requires <code class="language-plaintext highlighter-rouge">OverrideCriticalTable</code> to be enabled in <code class="language-plaintext highlighter-rouge">ddraw.ini</code> (already enabled by default).</p><hr /> <h3 id="set_critter_burst_disable"> <a href="#set_critter_burst_disable" class="anchor-heading" aria-labelledby="set_critter_burst_disable"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_critter_burst_disable</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_critter_burst_disable</span><span class="p">(</span><span class="kt">int</span> <span class="n">critter</span><span class="p">,</span> <span class="kt">int</span> <span class="n">disable</span><span class="p">)</span>
</code></pre></div></div><hr /> <h3 id="set_critter_current_ap"> <a href="#set_critter_current_ap" class="anchor-heading" aria-labelledby="set_critter_current_ap"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_critter_current_ap</strong> </h3> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_critter_current_ap</span><span class="p">(</span><span class="n">CritterPtr</span><span class="p">,</span> <span class="kt">int</span> <span class="n">ap</span><span class="p">)</span>
</code></pre></div></div> <p>Should only be used during the target critters turn while in combat.</p><hr /> <h3 class="d-inline-block" id="set_spray_settings"> <a href="#set_spray_settings" class="anchor-heading" aria-labelledby="set_spray_settings"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>set_spray_settings</strong> </h3> <p class="label label-green">sfall.h</p> <div class="language-c++ highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="n">set_spray_settings</span><span class="p">(</span><span class="kt">int</span> <span class="n">centerMult</span><span class="p">,</span> <span class="kt">int</span> <span class="n">centerDiv</span><span class="p">,</span> <span class="kt">int</span> <span class="n">targetMult</span><span class="p">,</span> <span class="kt">int</span> <span class="n">targetDiv</span><span class="p">)</span>
</code></pre></div></div> <p>Allows changing the multipliers and divisors for the bullet distribution of burst attacks dynamically. All settings are automatically reset to default values (i.e. <strong>ComputeSpray_*</strong> settings in ddraw.ini) after each attack action</p> <ul> <li>Should be called before the calculation of the bullet distribution (e.g. in <code class="language-plaintext highlighter-rouge">HOOK_TOHIT</code> or <code class="language-plaintext highlighter-rouge">HOOK_AMMOCOST</code>)</li> <li><code class="language-plaintext highlighter-rouge">centerDiv/targetDiv</code>: the minimum value of divisor is 1</li> <li><code class="language-plaintext highlighter-rouge">centerMult/targetMult</code>: multiplier values are capped at divisor values</li> <li><strong>NOTE:</strong> refer to the description of <strong>ComputeSpray_*</strong> settings in ddraw.ini for details of the bullet distribution of burst attacks</li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
